{"version":3,"file":"js/926.2cffcac4.js","mappings":"2mBA4CA,MAAMA,GAASC,EAAAA,EAAAA,MAETC,EAAaA,CAACC,EAAMC,EAAOC,IAC1BD,EAGA,oBAAoBE,KAAKF,QAG9BC,IAFSA,EAAS,IAAIE,MAAM,cAHnBF,EAAS,IAAIE,MAAM,WAOxBC,GAAkBC,EAAAA,EAAAA,IAAI,MACtBC,GAAoBC,EAAAA,EAAAA,IAAS,CACjCC,KAAM,CACJ,CAAEC,UAAU,EAAMC,QAAS,SAAUC,QAAS,SAEhDC,MAAO,CACL,CAAEH,UAAU,EAAMC,QAAS,QAASC,QAAS,SAE/CE,IAAK,CACH,CAAEJ,UAAU,EAAMC,QAAS,QAASC,QAAS,SAE/CG,MAAO,CACL,CAAEC,UAAWjB,EAAYa,QAAS,SAEpCK,KAAM,CACJ,CAAEP,UAAU,EAAMC,QAAS,SAAUC,QAAS,WAG5CM,GAAeZ,EAAAA,EAAAA,IAAI,CACvBG,KAAM,GACNI,MAAO,GACPC,IAAK,GACLC,MAAO,GACPE,KAAM,KAGFE,GAAYb,EAAAA,EAAAA,IAAI,GAChBc,GAAQd,EAAAA,EAAAA,IAAI,MACZe,EAAiBA,KACrBF,EAAUlB,MAAQ,GAClBmB,EAAMnB,MAAQqB,aAAY,KACpBH,EAAUlB,MAAQ,EACpBkB,EAAUlB,SAEVsB,cAAcH,EAAMnB,OACpBmB,EAAMnB,MAAQ,KAChB,GACC,IAAK,EAEJuB,EAAgBA,KACf,oBAAoBrB,KAAKe,EAAajB,MAAMc,OAIzB,IAApBI,EAAUlB,OACZoB,IAJAI,EAAAA,GAAUC,MAAM,YAKlB,EAEIC,EAAiBA,KAChBtB,EAAgBJ,OACrBI,EAAgBJ,MAAM2B,UAASC,IACzBA,IACFC,QAAQC,IAAIb,EAAajB,OACzBJ,EAAOmC,KAAK,gBACd,GACA,EAEEC,EAAcA,KAClBpC,EAAOmC,KAAK,eAAe,E,OAE7BE,EAAAA,EAAAA,KAAgB,KACdX,cAAcH,EAAMnB,MAAM,I,8yDC9G5B,MAAMkC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://ruifox-oauth2/./src/views/login/LoginRegister.vue","webpack://ruifox-oauth2/./src/views/login/LoginRegister.vue?f8c3"],"sourcesContent":["<template>\r\n  <div class=\"login-register\">\r\n    <div class=\"register-box\">\r\n      <div class=\"register-header\">\r\n        <img src=\"@/assets/favicon.png\" alt=\"\">\r\n        <div class=\"title\">锐狐授权服务器</div>\r\n      </div>\r\n      <div class=\"register-body\">\r\n        <div class=\"title\">注册</div>\r\n        <el-form ref=\"registerFormRef\" :model=\"registerForm\" :rules=\"registerFormRules\">\r\n          <el-form-item prop=\"name\">\r\n            <el-input v-model=\"registerForm.name\" type=\"text\" size=\"large\" placeholder=\"请输入注册登陆账号\" />\r\n          </el-form-item>\r\n          <el-form-item prop=\"email\">\r\n            <el-input v-model=\"registerForm.email\" type=\"text\" size=\"large\" placeholder=\"请输入邮箱\" />\r\n          </el-form-item>\r\n          <el-form-item prop=\"pwd\">\r\n            <el-input v-model=\"registerForm.pwd\" type=\"text\" size=\"large\" placeholder=\"请输入密码，长度6-20个字符\" />\r\n          </el-form-item>\r\n          <el-form-item prop=\"phone\">\r\n            <el-input v-model=\"registerForm.phone\" type=\"text\" size=\"large\" placeholder=\"请输入手机号\" />\r\n          </el-form-item>\r\n          <el-form-item prop=\"code\" class=\"form-code\">\r\n            <el-input v-model=\"registerForm.code\" type=\"text\" size=\"large\" placeholder=\"请输入验证码\" />\r\n            <el-button size=\"large\" @click=\"handleGetCode\" :disabled=\"countdown > 0\">\r\n              {{ countdown > 0 ? countdown + '秒后重新获取' : '获取验证码' }}\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div class=\"register-footer\">\r\n        <el-button size=\"large\" type=\"primary\" @click=\"handleRegister\" class=\"register-btn\">注册</el-button>\r\n        <el-button link type=\"primary\" @click=\"handleLogin\">使用已有帐号登录</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n/* eslint-disable */\r\nimport { ref, reactive, onBeforeUnmount } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nconst router = useRouter()\r\n//手机验证码登录\r\nconst phoneValid = (rule, value, callback) => {\r\n  if (!value) {\r\n    return callback(new Error('请输入手机号'))\r\n  }\r\n  if (!/^1[3456789]\\d{9}$/.test(value)) {\r\n    return callback(new Error('请输入正确的手机号'))\r\n  }\r\n  callback()\r\n}\r\nconst registerFormRef = ref(null)\r\nconst registerFormRules = reactive({\r\n  name: [\r\n    { required: true, message: '请输入用户名', trigger: 'blur' }\r\n  ],\r\n  email: [\r\n    { required: true, message: '请输入邮箱', trigger: 'blur' }\r\n  ],\r\n  pwd: [\r\n    { required: true, message: '请输入密码', trigger: 'blur' }\r\n  ],\r\n  phone: [\r\n    { validator: phoneValid, trigger: 'blur' }\r\n  ],\r\n  code: [\r\n    { required: true, message: '请输入验证码', trigger: 'blur' }\r\n  ]\r\n})\r\nconst registerForm = ref({\r\n  name: '',\r\n  email: '',\r\n  pwd: '',\r\n  phone: '',\r\n  code: ''\r\n})\r\n//验证码计时器\r\nconst countdown = ref(0)\r\nconst timer = ref(null)\r\nconst startCountdown = () => {\r\n  countdown.value = 60;\r\n  timer.value = setInterval(() => {\r\n    if (countdown.value > 0) {\r\n      countdown.value--;\r\n    } else {\r\n      clearInterval(timer.value);\r\n      timer.value = null;\r\n    }\r\n  }, 1000);\r\n}\r\nconst handleGetCode = () => {\r\n  if (!/^1[3456789]\\d{9}$/.test(registerForm.value.phone)) {\r\n    ElMessage.error('请输入正确的手机号')\r\n    return\r\n  }\r\n  if (countdown.value === 0) {\r\n    startCountdown()\r\n  }\r\n}\r\nconst handleRegister = () => {\r\n  if (!registerFormRef.value) return\r\n  registerFormRef.value.validate(valid => {\r\n    if (valid) {\r\n      console.log(registerForm.value)\r\n      router.push('/login/index')\r\n    }\r\n  })\r\n}\r\nconst handleLogin = () => {\r\n  router.push('/login/index')\r\n}\r\nonBeforeUnmount(() => {\r\n  clearInterval(timer.value)\r\n})\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.login-register{\r\n    display: flex;\r\n    justify-content: center;\r\n    padding-top: 100px;\r\n    .register-box{\r\n        width: 400px;\r\n        .register-header{\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            margin-bottom: 40px;\r\n            img{\r\n                margin-bottom: 20px;\r\n                width: 6rem;\r\n                border-radius: 50%;\r\n            }\r\n            .title{\r\n                font-size: 24px;\r\n            }\r\n        }\r\n        .register-body {\r\n            .title{\r\n                margin-bottom: 20px;\r\n                font-size: 22px;\r\n                // font-weight: 600;\r\n            }\r\n            ::v-deep .form-code .el-form-item__content{\r\n                display: flex;\r\n                flex-wrap: nowrap;\r\n                justify-content: space-between;\r\n                align-items: center;\r\n                & > .el-button{\r\n                    margin-left: 10px;\r\n                    min-width: 140px;\r\n                }\r\n            }\r\n        }\r\n        .register-footer{\r\n            display: flex;\r\n            justify-content: space-between;\r\n            .register-btn{\r\n                width: 60%;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import script from \"./LoginRegister.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginRegister.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginRegister.vue?vue&type=style&index=0&id=29507340&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-29507340\"]])\n\nexport default __exports__"],"names":["router","useRouter","phoneValid","rule","value","callback","test","Error","registerFormRef","ref","registerFormRules","reactive","name","required","message","trigger","email","pwd","phone","validator","code","registerForm","countdown","timer","startCountdown","setInterval","clearInterval","handleGetCode","ElMessage","error","handleRegister","validate","valid","console","log","push","handleLogin","onBeforeUnmount","__exports__"],"sourceRoot":""}